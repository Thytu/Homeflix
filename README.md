# Homeflix

Fully-automated, self-hosted media server using *arr suite.

## Features

- **Jellyfin**: A beautiful media server to stream your content.
- **Sonarr**: Automates downloading of your favorite TV shows.
- **Radarr**: Automates downloading of movies.
- **Prowlarr**: Manages your torrent indexers and syncs them with Sonarr and Radarr.
- **Transmission**: A lightweight torrent client.
- **Flemmarr**: Automatically configures the *arr stack on startup, so you don't have to.

## Setup

1.  **Clone the repository:**
    ```bash
    git clone https://github.com/your-username/Homeflix.git
    cd Homeflix
    ```

2.  **Create your environment file:**
    You need to create a `.env` file to configure the stack. I was unable to create a `.env.example` file for you, but you can create `.env` and paste the following content into it:

    ```env
    # Timezone for the containers
    TZ=America/Toronto

    # Paths for your media and downloads
    # Make sure these directories exist on your host machine
    PATH_TO_TVSHOWS=./your_path_to/tvshows
    PATH_TO_MOVIES=./your_path_to/movies
    PATH_TO_TORRENT_DOWNLOADS=./your_path_to/downloads
    PATH_TO_TORRENT_WATCH=./your_path_to/watch

    # Credentials for Transmission torrent client
    TRANSMISSION_USERNAME=admin
    TRANSMISSION_PASSWORD=admin
    ```
    **Important:**
    - Update `TZ` to your timezone.
    - The `PATH_TO_*` variables point to directories on your host machine. The default values will create folders within the project directory. If you want to use existing media folders, update these paths to their absolute locations (e.g., `/path/to/your/movies`). **Ensure these directories exist before starting the services.**

3.  **Launch the stack:**
    Run the following command from the root of the project directory:
    ```bash
    docker-compose up -d
    ```
    This will start all the services in the background. It might take a few minutes for all services to be healthy, especially on the first run.

## Post-Installation

Once all services are running, you can access them in your browser:

| Service      | URL                           |
|--------------|-------------------------------|
| Jellyfin     | `http://localhost:8096`       |
| Radarr       | `http://localhost:7878`       |
| Sonarr       | `http://localhost:8989`       |
| Prowlarr     | `http://localhost:9696`       |
| Transmission | `http://localhost:9091`       |

### Initial Configuration

1.  **Prowlarr (`http://localhost:9696`):**
    - Go to `Settings` > `Indexers` and add your favorite torrent indexers (TheRARBG by defaut). The main advantage of Prowlarr is that it will automatically sync these indexers to both Sonarr and Radarr.

2.  **Jellyfin (`http://localhost:8096`):**
    - The first time you access Jellyfin, it will walk you through a setup wizard.
    - When asked to add a media library, create one for Movies and another for TV Shows.
    - For the **Movies** library, set the folder path to `/your_path_to/movies`.
    - For the **TV Shows** library, set the folder path to `/your_path_to/tvshows`.

### How It Works: The `flemmarr` service

The `flemmarr` service is a key part of this setup. When you start the stack:
1. It waits for Sonarr, Radarr, and Prowlarr to be running.
2. It reads the API keys generated by Sonarr and Radarr from their configuration files.
3. It then updates its own configuration to tell Prowlarr how to communicate with Sonarr and Radarr.
4. It also configures Sonarr and Radarr to use Transmission as the download client, using the credentials from your `.env` file.

This automation means you only need to configure your indexers in one place (Prowlarr), and the rest of the connections are handled for you.
